<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Setup  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="Setup  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (98% documented)</p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
        Setup  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="compatibility.html">Compatibility</a>
              </li>
              <li class="nav-group-task">
                <a href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a href="setup.html">Setup</a>
              </li>
              <li class="nav-group-task">
                <a href="authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a href="sdk-lifecycle.html">SDK Lifecycle</a>
              </li>
              <li class="nav-group-task">
                <a href="customization.html">Customization</a>
              </li>
              <li class="nav-group-task">
                <a href="entry-points.html">Entry Points</a>
              </li>
              <li class="nav-group-task">
                <a href="transaction-linking.html">Transaction Linking</a>
              </li>
              <li class="nav-group-task">
                <a href="transaction-matching.html">Transaction Matching</a>
              </li>
              <li class="nav-group-task">
                <a href="application-integrations.html">Application Integrations</a>
              </li>
              <li class="nav-group-task">
                <a href="troubleshooting.html">Troubleshooting</a>
              </li>
              <li class="nav-group-task">
                <a href="using-objective-c.html">Using Objective-C</a>
              </li>
              <li class="nav-group-task">
                <a href="data-stored-on-device.html">Data Stored on Device</a>
              </li>
              <li class="nav-group-task">
                <a href="migration-guide.html">Migration Guide</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Authentication%20Reference.html">Authentication Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/PasswordAuthenticator.html">PasswordAuthenticator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TokenProvider.html">TokenProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Credentials.html">Credentials</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="SDK%20Lifecycle%20Reference.html">SDK Lifecycle Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Sensibill.html">Sensibill</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Customization%20Reference.html">Customization Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SBBarcodeConfiguration.html">SBBarcodeConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBCaptureViewConfiguration.html">SBCaptureViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBCreateFolderControllerConfiguration.html">SBCreateFolderControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBEditReceiptControllerConfiguration.html">SBEditReceiptControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExpenseTypeSelectionConfiguration.html">SBExpenseTypeSelectionConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExportsConfiguration.html">SBExportsConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBFolderCollectionViewConfiguration.html">SBFolderCollectionViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBFolderReceiptListControllerConfiguration.html">SBFolderReceiptListControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBLoadingViewConfiguration.html">SBLoadingViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBNonReceiptEmailConfiguration.html">SBNonReceiptEmailConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBNotificationCentreConfiguration.html">SBNotificationCentreConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptDetailConfiguration.html">SBReceiptDetailConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListControllerConfiguration.html">SBReceiptListControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListTableCellConfiguration.html">SBReceiptListTableCellConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListTableViewConfiguration.html">SBReceiptListTableViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptsFilterConfiguration.html">SBReceiptsFilterConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptsListSelectionControllerConfiguration.html">SBReceiptsListSelectionControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBRemindersConfiguration.html">SBRemindersConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKColors.html">SBSDKColors</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKConfiguration.html">SBSDKConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKFontSet.html">SBSDKFontSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKMoreMenuConfiguration.html">SBSDKMoreMenuConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKSearchBarSet.html">SBSDKSearchBarSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBTabBarConfiguration.html">SBTabBarConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptEditTaxTipsControllerConfiguration.html">SBReceiptEditTaxTipsControllerConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Transactions%20Linking%20Reference.html">Transactions Linking Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBLTransaction.html">SBLTransaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TransactionHandler.html">TransactionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBDataEvent.html">SBDataEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/c:SBDataEvent.h@T@SBDataEventReceiptBlock">SBDataEventReceiptBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/c:SBDataEvent.h@T@SBDataEventTransactionBlock">SBDataEventTransactionBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SBTransactionEventType.html">SBTransactionEventType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ReceiptExpenseType.html">ReceiptExpenseType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SBReceiptEventType.html">SBReceiptEventType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionError.html">TransactionError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionStatus.html">TransactionStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionType.html">TransactionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransactionObserver.html">TransactionObserver</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Transaction%20Matching%20Reference.html">Transaction Matching Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CurrencyCode.html">CurrencyCode</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExternalAccountTransaction.html">SBExternalAccountTransaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLOriginalFormat">SBLOriginalFormat</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLReceiptExpenseType">SBLReceiptExpenseType</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLReceiptType">SBLReceiptType</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceipt.html">SBReceipt</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBPrivateMetaData.html">SBPrivateMetaData</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillTransactionMatcher.html">SensibillTransactionMatcher</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Entry%20Points.html">Entry Points</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CaptureFlowCoordinator.html">CaptureFlowCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReceiptListViewController.html">ReceiptListViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RecentExportsViewController.html">RecentExportsViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBAnalytics.html">SBAnalytics</a>
              </li>
              <li class="nav-group-task">
                <a href="Entry%20Points.html#/c:SBAnalytics.h@T@SBEventsListener">SBEventsListener</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBEventListenerInterface.html">SBEventListenerInterface</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBLReceiptListViewControllerDataSource.html">SBLReceiptListViewControllerDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBTrackingEvent.html">SBTrackingEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSearchReceiptsController.html">SBSearchReceiptsController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBViewControllerDelegate.html">SBViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillReceiptViewController.html">SensibillReceiptViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillSDK.html">SensibillSDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReceiptCaptureManager.html">ReceiptCaptureManager</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Application%20Integrations%20Reference.html">Application Integrations Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SBNotificationHandler.html">SBNotificationHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Troubleshooting%20Reference.html">Troubleshooting Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/SensibillError.html">SensibillError</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='setup' class='heading'>Setup</h1>

<p>In order for the SDK to be configured with an appropriate environment, when the SDK starts up, it will attempt to find the <code>Sensibill.plist</code> configuration file. This will allow the SDK to generate a valid environment to talk to the Sensibill API. </p>

<p>You can provide the <code>Sensibill.plist</code> file in the main bundle of the host target app, or in a bundle specified in the <code>externalBundle</code> parameter of  <code><a href="Classes/SBSDKConfiguration.html">SBSDKConfiguration</a></code>. To use an external bundle follow the instructions in the <a href="#using-external-bundle">Using External Bundle</a> section below.</p>

<p><em>Note:</em> if a valid configuration file is provided in both the main and external bundle, the file from the external bundle will be used.</p>

<ol>
<li>If you are planning to store the Sensibill SDK configuration in the external bundle, follow the instructions provided in the <a href="#using-external-bundle">Using External Bundle</a> section first. If the configuration file will be stored in the main application bundle, continue to the next step.</li>
<li>Decide the type of authentication you are planning to use, as explained in <a href="authentication.html">Authentication</a></li>
<li>Create <code>Sensibill.plist</code> in the main bundle of your target, or in the external bundle you created in step 1.</li>
<li>Depending on the authentication type you choose, specify values provided by <em>Sensibill</em>, as described in the <a href="#configuration-properties">Configuration properties</a> section.</li>
<li>Regardless of the authentication type, add the certificate pinning files property to provide the names of the certificates as explained in the <a href="#certificate-pinning">Certificate Pinning</a> section.</li>
</ol>
<h2 id='configuration-properties' class='heading'>Configuration Properties</h2>
<h3 id='required-for-all-types-of-authentication' class='heading'>Required for all types of authentication</h3>

<p>Regardless of authentication type, the <code>Sensibill.plist</code> must contain the following key:</p>
<pre class="highlight plaintext"><code>ENVIRONMENT: String
</code></pre>

<p><em>Note:</em>  Please ensure the URL provided for the <strong>ENVIRONMENT</strong> key does not have a trailing slash.</p>
<h3 id='for-custom-tokenprovider' class='heading'>For Custom TokenProvider</h3>

<p>If using a custom <code><a href="Protocols/TokenProvider.html">TokenProvider</a></code> and an <a href="#integration-server">Integration Server</a>, no additional values are required.
<strong>Example:</strong> Download <a href="./guide-resources/plist/token-provider/Sensibill.plist">Sensibill.plist</a></p>
<h3 id='for-passwordauthenticator' class='heading'>For PasswordAuthenticator</h3>

<p>If using <code><a href="Classes/PasswordAuthenticator.html">PasswordAuthenticator</a></code>, the following additional keys are required:</p>
<pre class="highlight plaintext"><code>API_KEY: String
API_SECRET: String
CREDENTIAL_TYPE: String
REDIRECT_URL: String
</code></pre>

<p><strong>Example:</strong> Download <a href="./guide-resources/plist/password/Sensibill.plist">Sensibill.plist</a></p>
<h2 id='certificate-pinning' class='heading'>Certificate Pinning</h2>

<p>By default, certificate pinning on the SDK is enabled. For certificate pinning to function, your application&rsquo;s Target must include the certificates provided by Sensibill (named as <code>COMODO.cer</code> and <code>GLOBOSIGN.cer</code>), and must contain a list of valid certificate names inside the <code>Sensibill.plist</code> file under following key:</p>
<pre class="highlight plaintext"><code>CERTIFICATE_PINNING_FILES: Array of Strings
</code></pre>

<ol>
<li>Import certificates provided by Sensibill into your project. See <a href="installation.html#overview">Installation</a> to download certificates.</li>
<li>Include them as a Bundle resource in every app’s target that uses the Sensibill SDK and make sure target membership for the certificates are checked for the application.</li>
<li><p>Add the names of the certificate files to the <code>CERTIFICATE_PINNING_FILES</code> key of <code>Sensibill.plist</code>:</p>
<pre class="highlight plaintext"><code>CERTIFICATE_PINNING_FILES
    Item 0: COMODO.cer
    Item 1: GLOBALSIGN.cer
</code></pre></li>
</ol>

<p><em>Note:</em> This section is only for understanding purposes. The <a href="#configuration-properties">Configuration Properties</a> section already provides a <code>Sensibill.plist</code> with pre-configured certificate pinning files key and values.</p>
<h3 id='integration-server' class='heading'>Integration Server</h3>

<ul>
<li>A server implemented by you which will be responsible for providing a Sensibill session token by talking to the Sensibill API. This Sensibill session token will be provided to the SDK by implementing a <code><a href="Protocols/TokenProvider.html">TokenProvider</a></code>. Read more on <a href="authentication.html#custom-token-provider-authentication">How to implement custom token provider</a></li>
</ul>
<h2 id='using-an-external-bundle' class='heading'>Using an External Bundle</h2>

<p>The Sensibill SDK allows the integrating application to save the configuration file <code>Sensibill.plist</code>, and custom assets (images and strings) in a separate bundle, called <em>external bundle</em>. </p>

<p>To store your configuration and/or asset customization in an external bundle, create a Bundle in the host application&rsquo;s project and add the files you would like to use to the new bundle. When you are ready to start the SDK, follow <a href="sdk-lifecycle.html#configuring-sdk">Configuring SDK</a> steps to instruct the SDK to use the created external bundle.</p>

<p><em>Note:</em> Files provided in the external bundle will always override the files from default locations. However, the external bundle doesn&rsquo;t need to contain all the configuration and asset files. If a file is missing in the external bundle, the corresponding file from the default location will be used. For example: </p>

<ul>
<li>If <code>Sensibill.plist</code> is not provided in the external bundle, the SDK will use the <code>Sensibill.plist</code> from the main bundle</li>
<li>If an asset is not provided in the external bundle, the default SDK asset will be used</li>
</ul>

<p>If an <em>external bundle</em> was specified, and it contains an invalid <code>Sensibill.plist</code>, the SDK will skip it, and will try to load the configuration from the main bundle. If reading the configuration from the main bundle fails as well, the error code will reflect the result of main bundle configuration parsing. In this case, inspect the debug log for details of the <em>external bundle</em> parsing failure.</p>
<h2 id='required-property-list-keys' class='heading'>Required Property List Keys</h2>

<p>The Sensibill SDK uses device&rsquo;s camera to capture receipts, and allows users to select an existing receipt image from the device&rsquo;s photo gallery. Hence, when a user navigates to the Capture Receipt screen of the SDK, your application must prompt the user for consent to use their device&rsquo;s camera and photo gallery.</p>

<p>To do this, the following keys must be present in the <code>Info.plist</code> of your application:</p>

<ul>
<li>For camera usage: <code>NSCameraUsageDescription</code> (displayed as <em>Privacy - Camera Usage Description</em>)</li>
<li>For photo gallery access: <code>NSPhotoLibraryUsageDescription</code> (displayed as <em>Privacy - Photo Library Usage Description</em>).</li>
</ul>

<p><em>Note:</em> If this information is not provided, it results in an application crash with the following message:</p>

<blockquote>
<p>This app has crashed because it attempted to access privacy-sensitive data without a usage description. The app&rsquo;s Info.plist must contain an NSCameraUsageDescription (or  NSPhotoLibraryUsageDescription) key with a string value explaining to the user how the app uses this data.</p>
</blockquote>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2021-06-15)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
