<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Entry Points  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="Entry Points  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html"> Docs</a> (98% documented)</p>
        <p class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html"> Reference</a>
        <img id="carat" src="img/carat.png" />
        Entry Points  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Documentation.html">Documentation</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="compatibility.html">Compatibility</a>
              </li>
              <li class="nav-group-task">
                <a href="installation.html">Installation</a>
              </li>
              <li class="nav-group-task">
                <a href="setup.html">Setup</a>
              </li>
              <li class="nav-group-task">
                <a href="authentication.html">Authentication</a>
              </li>
              <li class="nav-group-task">
                <a href="sdk-lifecycle.html">SDK Lifecycle</a>
              </li>
              <li class="nav-group-task">
                <a href="customization.html">Customization</a>
              </li>
              <li class="nav-group-task">
                <a href="entry-points.html">Entry Points</a>
              </li>
              <li class="nav-group-task">
                <a href="transaction-linking.html">Transaction Linking</a>
              </li>
              <li class="nav-group-task">
                <a href="transaction-matching.html">Transaction Matching</a>
              </li>
              <li class="nav-group-task">
                <a href="application-integrations.html">Application Integrations</a>
              </li>
              <li class="nav-group-task">
                <a href="troubleshooting.html">Troubleshooting</a>
              </li>
              <li class="nav-group-task">
                <a href="using-objective-c.html">Using Objective-C</a>
              </li>
              <li class="nav-group-task">
                <a href="data-stored-on-device.html">Data Stored on Device</a>
              </li>
              <li class="nav-group-task">
                <a href="migration-guide.html">Migration Guide</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Authentication%20Reference.html">Authentication Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/PasswordAuthenticator.html">PasswordAuthenticator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TokenProvider.html">TokenProvider</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Credentials.html">Credentials</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="SDK%20Lifecycle%20Reference.html">SDK Lifecycle Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Sensibill.html">Sensibill</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Customization%20Reference.html">Customization Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SBBarcodeConfiguration.html">SBBarcodeConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBCaptureViewConfiguration.html">SBCaptureViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBCreateFolderControllerConfiguration.html">SBCreateFolderControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBEditReceiptControllerConfiguration.html">SBEditReceiptControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExpenseTypeSelectionConfiguration.html">SBExpenseTypeSelectionConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExportsConfiguration.html">SBExportsConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBFolderCollectionViewConfiguration.html">SBFolderCollectionViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBFolderReceiptListControllerConfiguration.html">SBFolderReceiptListControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBLoadingViewConfiguration.html">SBLoadingViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBNonReceiptEmailConfiguration.html">SBNonReceiptEmailConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBNotificationCentreConfiguration.html">SBNotificationCentreConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptDetailConfiguration.html">SBReceiptDetailConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListControllerConfiguration.html">SBReceiptListControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListTableCellConfiguration.html">SBReceiptListTableCellConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptListTableViewConfiguration.html">SBReceiptListTableViewConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptsFilterConfiguration.html">SBReceiptsFilterConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptsListSelectionControllerConfiguration.html">SBReceiptsListSelectionControllerConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBRemindersConfiguration.html">SBRemindersConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKColors.html">SBSDKColors</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKConfiguration.html">SBSDKConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKFontSet.html">SBSDKFontSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKMoreMenuConfiguration.html">SBSDKMoreMenuConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSDKSearchBarSet.html">SBSDKSearchBarSet</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBTabBarConfiguration.html">SBTabBarConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceiptEditTaxTipsControllerConfiguration.html">SBReceiptEditTaxTipsControllerConfiguration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Transactions%20Linking%20Reference.html">Transactions Linking Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBLTransaction.html">SBLTransaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TransactionHandler.html">TransactionHandler</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBDataEvent.html">SBDataEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/c:SBDataEvent.h@T@SBDataEventReceiptBlock">SBDataEventReceiptBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Transactions%20Linking%20Reference.html#/c:SBDataEvent.h@T@SBDataEventTransactionBlock">SBDataEventTransactionBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SBTransactionEventType.html">SBTransactionEventType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/ReceiptExpenseType.html">ReceiptExpenseType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SBReceiptEventType.html">SBReceiptEventType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionError.html">TransactionError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionStatus.html">TransactionStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TransactionType.html">TransactionType</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/TransactionObserver.html">TransactionObserver</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Transaction%20Matching%20Reference.html">Transaction Matching Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/CurrencyCode.html">CurrencyCode</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBExternalAccountTransaction.html">SBExternalAccountTransaction</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLOriginalFormat">SBLOriginalFormat</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLReceiptExpenseType">SBLReceiptExpenseType</a>
              </li>
              <li class="nav-group-task">
                <a href="Transaction%20Matching%20Reference.html#/c:@E@SBLReceiptType">SBLReceiptType</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBReceipt.html">SBReceipt</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBPrivateMetaData.html">SBPrivateMetaData</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillTransactionMatcher.html">SensibillTransactionMatcher</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Entry%20Points.html">Entry Points</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/CaptureFlowCoordinator.html">CaptureFlowCoordinator</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReceiptListViewController.html">ReceiptListViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/RecentExportsViewController.html">RecentExportsViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBAnalytics.html">SBAnalytics</a>
              </li>
              <li class="nav-group-task">
                <a href="Entry%20Points.html#/c:SBAnalytics.h@T@SBEventsListener">SBEventsListener</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBEventListenerInterface.html">SBEventListenerInterface</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBLReceiptListViewControllerDataSource.html">SBLReceiptListViewControllerDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBTrackingEvent.html">SBTrackingEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SBSearchReceiptsController.html">SBSearchReceiptsController</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SBViewControllerDelegate.html">SBViewControllerDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillReceiptViewController.html">SensibillReceiptViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SensibillSDK.html">SensibillSDK</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ReceiptCaptureManager.html">ReceiptCaptureManager</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Application%20Integrations%20Reference.html">Application Integrations Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/SBNotificationHandler.html">SBNotificationHandler</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Troubleshooting%20Reference.html">Troubleshooting Reference</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/SensibillError.html">SensibillError</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='sensibill-entry-points-ui' class='heading'>Sensibill Entry Points (UI)</h1>

<ul>
<li><a href="#receipt-capture">Receipt Capture</a><br></li>
<li><a href="#receipt-details">Receipt Details</a><br></li>
<li><a href="#how-to-observe-receipt-edit-delete">How to Observe Receipt Edit / Delete</a><br></li>
<li><a href="#recent-receipt-export-list">Recent Receipt Export List</a><br></li>
<li><a href="#receipt-search">Receipt Search</a><br></li>
<li><a href="#receipt-list">Receipt List</a><br></li>
</ul>
<h2 id='receipt-capture' class='heading'>Receipt Capture</h2>

<p><em>Note:</em> Please include the <a href="setup.html#required-property-list-keys">required Property List keys</a>, as explained on the linked page to give the Receipt Capture screen access the device&rsquo;s camera to capture receipts, or access the device&rsquo;s photo gallery to allow the user select an existing image of a receipt.</p>

<p>The new receipt capture experience provides the following features:</p>

<ul>
<li>Automatic and manual <strong>Capture Modes</strong></li>
<li>Regular and <strong>Long Receipt</strong> capturing modes</li>
<li>Ability to select an image from <strong>Photo gallery</strong></li>
<li>Ability to turn the <strong>Flash</strong> on and off</li>
<li><strong>Blur</strong> detection after capturing a receipt.</li>
<li><strong>Cropping</strong> a receipt image.</li>
<li>Ability to attach user&rsquo;s device <strong>Location</strong> data on capturing receipt.</li>
</ul>
<h3 id='overview' class='heading'>Overview</h3>

<p>The SDK uses <code><a href="Classes/CaptureFlowCoordinator.html">CaptureFlowCoordinator</a></code> to provide access to the capture flow. The coordinator instance is created when the capture flow should be instantiated. You must retain the instance while the capture flow is displayed, and the coordinator instance must be discarded once capture is finished. </p>

<p>By default, the coordinator will display the capture workflow, and then proceed to the Expense Type and Receipt Processing screens. However, you can cusomize this behavior and skip one or both of the screens. Additionally, the coordinator allows you to be notified when a receipt is initially submitted and when the receipt is finished processing.</p>
<h3 id='basic-receipt-capture-flow-steps' class='heading'>Basic Receipt Capture Flow Steps</h3>

<ol>
<li>Decide which <code>UIViewController</code> you would like to present a modal capture flow. This view controller becomes the <em>host</em> of the capture flow.</li>
<li>Add a <code><a href="Classes/CaptureFlowCoordinator.html">CaptureFlowCoordinator</a></code> property to the selected host view controller. This property will be used to retain an instance of the coordinator while the capture flow is displayed.</li>
<li>Implement the <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> protocol to receive events upon capture flow completion: the <code>coordinatorDidFinishCapture</code> event will be triggered if a user captures a receipt, and the <code>coordinatorDidCancelCapture</code> event will be triggered if the user cancels the flow. Most commonly your host view controller will be the one implementing this delegate. <em>Note:</em> Make sure to set your coordinator instance to <code>nil</code> when either event is received to clear the flow from memory.</li>
<li>Create an instance of <code><a href="Classes/CaptureFlowCoordinator.html">CaptureFlowCoordinator</a></code> by passing your host view controller as an argument.</li>
<li>Make sure you set a delegate for the <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> protocol.</li>
<li>Call the <code>start()</code> function of the coordinator instance to start the receipt capture flow over the host view controller in full screen presentation mode.</li>
</ol>

<p>The following example demonstrates a basic Receipt Capture flow integration. This integration assumes that the Expense Type and Receipt Processing screen will be shown to a user after capture completes:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="c1">// MARK: - Private Properties</span>

    <span class="kd">private</span> <span class="k">var</span> <span class="nv">captureFlowCoordinator</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">?</span>

    <span class="c1">// MARK: - Private Methods</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">startReceiptCaptureFlow</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">coordinator</span> <span class="o">=</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">(</span><span class="nv">host</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
        <span class="n">coordinator</span><span class="o">.</span><span class="n">delegate</span> <span class="o">=</span> <span class="k">self</span>
        <span class="n">coordinator</span><span class="o">.</span><span class="nf">start</span><span class="p">()</span>
        <span class="k">self</span><span class="o">.</span><span class="n">captureFlowCoordinator</span> <span class="o">=</span> <span class="n">coordinator</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - CaptureFlowCoordinatorDelegate</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinatorDelegate</span> <span class="p">{</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">coordinatorDidFinishCapture</span><span class="p">(</span><span class="n">_</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">captureFlowCoordinator</span> <span class="o">=</span> <span class="kc">nil</span>
    <span class="p">}</span>

    <span class="kd">public</span> <span class="kd">func</span> <span class="nf">coordinatorDidCancelCapture</span><span class="p">(</span><span class="n">_</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">self</span><span class="o">.</span><span class="n">captureFlowCoordinator</span> <span class="o">=</span> <span class="kc">nil</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>

<ul>
<li><code>coordinatorDidCancelCapture</code> event is triggered when the user cancels the onboarding flow for the first time or if user explicitly taps on the cancel button on the capture screen.</li>
<li><code>coordinatorDidFinishCapture</code> event is triggered in the following use cases:

<ul>
<li>When <code>exitAfterCapture</code> is <code>true</code> an event will be triggered once a receipt is captured and a <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code> is submitted to receipt engine for processing.</li>
<li>When <code>exitAfterCapture</code> is <code>false</code> an event will be triggered when the user selects <code>View Later</code> on the receipt processing screen.</li>
<li>When <code>exitAfterCapture</code> is <code>false</code> an event will be triggered when the user waits for the receipt to be processed on the receipt processing screen, selects the <code>View Receipt</code> option once the receipt is processed, and then selects the <code>Done</code> button on the receipt validation screen.</li>
</ul></li>
</ul>

<p>Refer to the <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> reference documentation to learn more about additional optional events that would trigger:</p>

<ul>
<li>when a <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code> is submitted to the receipt engine for processing.</li>
<li>when a <code>Receipt</code> is successfully generated while the user waits on the receipt processing screen.</li>
</ul>
<h3 id='how-to-customize-the-receipt-capture-flow' class='heading'>How to Customize the Receipt Capture Flow</h3>

<p>Use <code>SBSDKConfiguration.sharedInstance()?.captureViewConfiguration</code> to enable and disable features and to customize the appearance of the Capture Flow. Please refer to the <code><a href="Classes/SBCaptureViewConfiguration.html">SBCaptureViewConfiguration</a></code> documentation for a full list of configurable feature flags and appearance attributes.</p>

<p>Example:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="c1">// MARK: - Private Methods</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">startReceiptCaptureFlow</span><span class="p">()</span> <span class="p">{</span>

         <span class="c1">// Disable crop functionality</span>
         <span class="kt">SBSDKConfiguration</span><span class="o">.</span><span class="nf">sharedInstance</span><span class="p">()?</span><span class="o">.</span><span class="n">captureViewConfiguration</span><span class="o">.</span><span class="n">isCropEnabled</span> <span class="o">=</span> <span class="kc">false</span>

         <span class="c1">// Set auto-capture detection rectangle border line width</span>
         <span class="kt">SBSDKConfiguration</span><span class="o">.</span><span class="nf">sharedInstance</span><span class="p">()?</span><span class="o">.</span><span class="n">captureViewConfiguration</span><span class="o">.</span><span class="n">detectionlineWidth</span> <span class="o">=</span> <span class="mf">2.0</span>

         <span class="c1">// Update auto-capture processing circle edge stroke color</span>
         <span class="kt">SBSDKConfiguration</span><span class="o">.</span><span class="nf">sharedInstance</span><span class="p">()?</span><span class="o">.</span><span class="n">captureViewConfiguration</span><span class="o">.</span><span class="n">captureCircleStrokeColor</span> <span class="o">=</span> <span class="kt">UIColor</span><span class="o">.</span><span class="n">red</span>     

        <span class="c1">// create instance of coordinator</span>
        <span class="k">let</span> <span class="nv">coordinator</span> <span class="o">=</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">(</span><span class="nv">host</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h4 id='hide-receipt-expense-type-selection-screen' class='heading'>Hide Receipt Expense Type Selection Screen.</h4>

<p>The receipt expense type selection screen appears after a receipt is captured and submitted to the receipt engine for processing in the basic capture flow.</p>

<p>If this feature is disabled on backend then no action is needed. 
Otherwise, set the following flag to <code>false</code> before starting the capture flow to stop the receipt expense type selection screen from appearing.</p>
<pre class="highlight plaintext"><code>SBSDKConfiguration.sharedInstance().searchFilterConfiguration.expenseTypeFilterEnabled = false
</code></pre>
<h4 id='basic-receipt-capture-with-expense-type' class='heading'>Basic Receipt Capture with Expense Type</h4>

<p>You can provide a specific <code><a href="Enums/ReceiptExpenseType.html">ReceiptExpenseType</a></code> - Business or Personal - using the <code>start(expenseType:)</code> method of the coordinator to automatically associate a receipt with that expense type. When a valid expense type is provided the expense type screen won&rsquo;t be shown after a capture and the user will be taken directly to the receipt processing screen.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="o">...</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">startReceiptCaptureFlow</span><span class="p">(</span><span class="nv">expenseType</span><span class="p">:</span> <span class="kt">ReceiptExpenseType</span><span class="p">)</span> <span class="p">{</span>
        <span class="o">...</span>
        <span class="n">coordinator</span><span class="o">.</span><span class="nf">start</span><span class="p">(</span><span class="nv">expenseType</span><span class="p">:</span> <span class="n">expenseType</span><span class="p">)</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">...</span>

</code></pre>
<h4 id='skipping-receipt-processing-screen' class='heading'>Skipping Receipt Processing Screen</h4>

<p>Use the <code>coordinator.exitAfterCapture</code> flag to control what happens after a user captures a receipt. By default the flag is set to <code>false</code>, and after capturing the flow continues to the Receipt Processing screen. </p>

<p>If you don&rsquo;t want to show the Receipt Processing screen to a user, set <code>coordinator.exitAfterCapture</code> to <code>true</code> before starting the flow. This value will tell the coordinator to exit immediately after a user finishes a capturing receipt.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="o">...</span>

    <span class="kd">private</span> <span class="kd">func</span> <span class="nf">startReceiptCaptureFlow</span><span class="p">()</span> <span class="p">{</span>
        <span class="o">...</span>
        <span class="n">coordinator</span><span class="o">.</span><span class="n">exitAfterCapture</span> <span class="o">=</span> <span class="kc">true</span>
        <span class="o">...</span>
        <span class="n">coordinator</span><span class="o">.</span><span class="nf">start</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="o">...</span>

</code></pre>
<h4 id='receipt-processing-monitoring' class='heading'>Receipt Processing Monitoring</h4>

<p>After the receipt is captured by a user, the coordinator passes a <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code> oject with receipt image to the <code><a href="Classes/TransactionHandler.html">TransactionHandler</a></code> for processing. The transaction handler will submit a receipt to the server and will store the resulting <code><a href="Classes/SBReceipt.html">SBReceipt</a></code> object in the local cache. </p>

<p>The coordinator provides two optional methods via the <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> when the following receipt processing events occur:</p>

<ul>
<li>A receipt <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code> was submitted for processing to the server. Implement the following optional delegate method of the <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> protocol:</li>
</ul>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">coordinator</span><span class="p">(</span><span class="n">_</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">,</span> <span class="n">didSubmitTransaction</span> <span class="nv">transaction</span><span class="p">:</span> <span class="kt">SBLTransaction</span><span class="p">)</span>
</code></pre>

<ul>
<li>The resulting <code><a href="Classes/SBReceipt.html">SBReceipt</a></code> is available in the user&rsquo;s cache. Implement following optional delegate method of <code><a href="Protocols/CaptureFlowCoordinatorDelegate.html">CaptureFlowCoordinatorDelegate</a></code> protocol:</li>
</ul>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">coordinator</span><span class="p">(</span><span class="n">_</span> <span class="nv">coordinator</span><span class="p">:</span> <span class="kt">CaptureFlowCoordinator</span><span class="p">,</span> <span class="n">didProcessReceipt</span> <span class="nv">receipt</span><span class="p">:</span> <span class="kt">SBReceipt</span><span class="p">)</span>
</code></pre>

<p><em>Note:</em> The <code>didProcessReceipt</code> event will only be triggered if a user waits on the Receipt Processing screen, and a receipt is successfully created from a submitted <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code>. If you would like to receive a notification in any case, or want to be notified on additional <code><a href="Transactions%20Linking%20Reference.html#/Transaction">Transaction</a></code> status changes, please register a transaction observer with <code><a href="Classes/SBDataEvent.html">SBDataEvent</a></code> as described in the <a href="transaction-linking.html#monitoring-receipt-uploading-status">Monitoring Receipt Uploading Status</a> section.</p>
<h4 id='capturing-receipt-for-bank-account-transaction' class='heading'>Capturing Receipt for Bank Account Transaction</h4>

<p>Receipt Capture can also be used to link an external bank account transaction to a receipt, using the coordinator&rsquo;s <code>coordinator.start(transaction:)</code> method. See <a href="transactions.md#transaction-linking">Transaction Linking</a> for details.</p>
<h2 id='receipt-details' class='heading'>Receipt Details</h2>

<p>To display the details of a receipt, instantiate <code><a href="Classes/SensibillReceiptViewController.html">SensibillReceiptViewController</a></code> by passing a valid <code>receiptId</code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">pushReceiptDetail</span><span class="p">(</span><span class="nv">receiptId</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">viewController</span> <span class="o">=</span> <span class="kt">SensibillReceiptViewController</span><span class="p">(</span><span class="nv">receiptId</span><span class="p">:</span> <span class="n">receiptId</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Unable to instantiate SensibillReceiptViewController."</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="n">navigationController</span><span class="o">.</span><span class="nf">pushViewController</span><span class="p">(</span><span class="n">viewController</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h2 id='how-to-observe-receipt-edit-delete' class='heading'>How to Observe Receipt Edit / Delete</h2>

<p>Subscribe as a receipt observer via the <code><a href="Classes/SBDataEvent.html">SBDataEvent</a></code> shared manager in order to observe the editing or deletion of an existing receipt.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">addReceiptObserver</span><span class="p">()</span> <span class="p">{</span>
      <span class="kt">SBDataEvent</span><span class="o">.</span><span class="nf">sharedManager</span><span class="p">()?</span><span class="o">.</span><span class="nf">addReceiptObserver</span><span class="p">(</span><span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">type</span><span class="p">,</span> <span class="n">receipt</span><span class="p">)</span> <span class="k">in</span>

            <span class="k">guard</span> <span class="k">let</span> <span class="nv">receipt</span> <span class="o">=</span> <span class="n">receipt</span><span class="p">,</span>
                <span class="k">let</span> <span class="nv">receiptId</span> <span class="o">=</span> <span class="n">receipt</span><span class="o">.</span><span class="n">id</span> <span class="k">else</span> <span class="p">{</span>
                    <span class="k">return</span>
            <span class="p">}</span>

            <span class="k">switch</span> <span class="n">type</span> <span class="p">{</span>
            <span class="k">case</span> <span class="o">.</span><span class="nv">deletion</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"Receipt with id </span><span class="se">\(</span><span class="n">receiptId</span><span class="se">)</span><span class="s"> edited"</span><span class="p">)</span>
            <span class="k">case</span> <span class="o">.</span><span class="nv">edit</span><span class="p">:</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"Receipt with id </span><span class="se">\(</span><span class="n">receiptId</span><span class="se">)</span><span class="s"> deleted"</span><span class="p">)</span>
            <span class="kd">@unknown</span> <span class="k">default</span><span class="p">:</span>
                <span class="c1">// SDK introduced a new status, please review Migration Guide.</span>
                <span class="k">break</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='recent-receipt-export-list' class='heading'>Recent Receipt Export List</h2>

<p>Create an instance of <code><a href="Classes/RecentExportsViewController.html">RecentExportsViewController</a></code> using the recommended <code>instantiate</code> method in order to a show list of the recent receipt exports that the user has requested.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">presentRecentExport</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">controller</span> <span class="o">=</span> <span class="kt">RecentExportsViewController</span><span class="o">.</span><span class="nf">instantiate</span><span class="p">()</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nf">print</span><span class="p">(</span><span class="s">"Unable to instantiate RecentExportsViewController"</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="p">}</span>
        <span class="nf">present</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='receipt-search' class='heading'>Receipt Search</h2>

<p>The <code><a href="Classes/SBSearchReceiptsController.html">SBSearchReceiptsController</a></code> instance provides a convenient method to push the Receipt Search Controller to the current Navigation Controller.
This method also provides an option to disable or enable a search filters feature in the Search UI by passing true (to show filters) or false (to hide filters) to the property <code>andAllowFiltering</code>.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">pushSearchReceipts</span><span class="p">(</span><span class="n">allowFiltering</span> <span class="nv">canFilter</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span> <span class="p">{</span>
        <span class="kt">SBSearchReceiptsController</span><span class="o">.</span><span class="nf">push</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">andAllowFiltering</span><span class="p">:</span> <span class="n">canFilter</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h2 id='receipt-list' class='heading'>Receipt List</h2>

<p>Create an instance of <code><a href="Classes/ReceiptListViewController.html">ReceiptListViewController</a></code> which is a <code>UINavigationController</code> to present a list of receipts. This screen provides the following options:</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">presentReceiptList</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">controller</span> <span class="o">=</span> <span class="kt">ReceiptListViewController</span><span class="p">()</span>
        <span class="nf">present</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>
<h3 id='default-bottom-view-on-receipt-list' class='heading'>Default Bottom View on Receipt List</h3>

<ul>
<li>By default, the Receipt List screen contains a default bottom bar. The default bar has a Receipts tab, a Capture Button in the form of a rounded Plus Icon, and a More button. The more button provides direct access to some additional screens (Recent Exports and Create Email Receipt) if those features are enabled.</li>
</ul>

<p><img src="./guide-resources/images/entry-points/receipt-list/default-bottom-view.png" alt=""></p>
<h3 id='customize-the-bottom-view-and-left-uibarbuttonitem-of-the-navigation-controller-on-receipt-list' class='heading'>Customize the Bottom View and Left UIBarButtonItem of the Navigation Controller on Receipt List</h3>

<p>In order to override the default bottom bar with your own custom <code>UIView</code> instance and to customize the left <code>UIBarButtonItem</code>, you must provide an instance of a class conforming to the <code><a href="Protocols/SBLReceiptListViewControllerDataSource.html">SBLReceiptListViewControllerDataSource</a></code> protocol while configuring your <code><a href="Classes/ReceiptListViewController.html">ReceiptListViewController</a></code>.</p>

<p><em>Note:</em> One caveat of overriding the bottom bar, is that you will always have the responsibility of presenting the <a href="#receipt-export">Receipt Exports</a> screen, as it will no longer be accessible via the deafult More menu.</p>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">SensibillUI</span>

<span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UIViewController</span> <span class="p">{</span>

    <span class="k">var</span> <span class="nv">receiptListViewController</span><span class="p">:</span> <span class="kt">ReceiptListViewController</span><span class="p">?</span>

    <span class="o">...</span>

    <span class="kd">func</span> <span class="nf">presentReceiptList</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">receiptListViewController</span> <span class="o">=</span> <span class="kt">ReceiptListViewController</span><span class="p">(</span><span class="nv">dataSource</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span>
        <span class="nf">present</span><span class="p">(</span><span class="n">controller</span><span class="p">,</span> <span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">didRequestDismissReceiptList</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">receiptListViewController</span><span class="o">.</span><span class="nf">dismiss</span><span class="p">(</span><span class="nv">animated</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kc">nil</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// MARK: - SBLReceiptListViewControllerDataSource</span>

<span class="kd">extension</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">SBLReceiptListViewControllerDataSource</span> <span class="p">{</span>

    <span class="kd">func</span> <span class="nf">leftBarButtonItem</span><span class="p">(</span><span class="k">in</span> <span class="nv">viewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIBarButtonItem</span><span class="p">?</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kt">UIBarButtonItem</span><span class="p">(</span><span class="nv">barButtonSystemItem</span><span class="p">:</span> <span class="o">.</span><span class="n">cancel</span><span class="p">,</span> <span class="nv">target</span><span class="p">:</span> <span class="k">self</span><span class="p">,</span> <span class="nv">action</span><span class="p">:</span> <span class="kd">#selector(</span><span class="nf">didRequestDismissReceiptList</span><span class="kd">)</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">bottomViewHeight</span><span class="p">(</span><span class="k">in</span> <span class="nv">viewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">CGFloat</span> <span class="p">{</span>
        <span class="c1">// return height for bottom view.</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">bottomView</span><span class="p">(</span><span class="k">in</span> <span class="nv">viewController</span><span class="p">:</span> <span class="kt">UIViewController</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">UIView</span> <span class="p">{</span>
        <span class="c1">// return instance of UIView act as bottom view.</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2021-03-11)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.5</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
